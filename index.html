<!DOCTYPE html>
<html lang="en" ng-app="gemStore">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">
		
		<!--[if lt IE 9]><script src="../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
		
		<!-- Bootstrap CSS-->
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
		<!-- Template CSS-->
		<link rel="stylesheet" type="text/css" href="css/template.css">
		<!-- Bootstrap JavaScript-->
		<script src="js/jquery-1.9.1.js"></script>
		<script src="js/bootstrap.js"></script>
		<script src="js/angular.min.js"></script>
		<script src="js/app.js"></script>
		<!--Favicons-->
		<link rel="shortcut icon" href="imgs/favicon.png" type="image/x-ic">
	</head>
	<body ng-controller="StoreController as store">
		<div class="product row" ng-repeat="product in store.products">
			<product-title></product-title>
			<!-- Image Gallery  -->
			<div class="gallery" ng-show="{{product.images.length > 0}}" ng-controller="GalleryController as gallery">
				<div class="img-wrap">
					<img ng-src="{{product.images[gallery.current]}}" />
				</div>
				<ul class="img-thumbnails clearfix">
					<li class="small-image pull-left thumbnail" ng-repeat="(imagekey, imageValue) in product.images" ng-click="gallery.setCurrent(imagekey)">
						<img ng-src="{{imageValue}}" />
					</li>
				</ul>
			</div>
			
			<section class="tab" ng-controller="TabController as tab">
				<ul class="nav nav-pills">
					<li ng-class="{active:tab.isSet(1)}"><a  ng-click="tab.setTab(1)" href>Description</a></li>
					<li ng-class="{active:tab.isSet(2)}"><a  ng-click="tab.setTab(2)" href>Specs</a></li>
					<li ng-class="{active:tab.isSet(3)}"><a  ng-click="tab.setTab(3)" href>Reviews</a></li>
				</ul>
				<!--  Description Tab's Content  -->
				<product-description ng-show="tab.isSet(1)">
				</product-description>
				<div ng-show="tab.isSet(2)" product-specs>
				</div>
				<div ng-show="tab.isSet(3)">
					<h4>Reviews</h4>
					<ul>
						<li ng-repeat="review in product.reviews">
							<blockquote>
								<strong>{{review.stars}} Stars</strong>
								{{review.body}}
								<cite class="clearfix">{{review.author}} on {{review.createdOn|date}}</cite>
							</blockquote>
						</li>
					</ul>
					<!--  Review Form -->
					<form name="reviewForm" ng-controller="ReviewController as reviewCtrl" ng-submit="reviewForm.$valid && reviewCtrl.addReview(product)" novalidate>
						<!--  Live Preview -->
						<blockquote>
							<strong>{{reviewCtrl.review.stars}} Stars</strong>
							{{reviewCtrl.review.body}}
							<cite class="clearfix">-{{reviewCtrl.review.author}}</cite>
						</blockquote>
						<!--  Review Form -->
						<h4>Submit a Review</h4>
						<fieldset class="form-group">
							<select ng-model="reviewCtrl.review.stars" class="form-control" ng-options="stars for stars in [5,4,3,2,1]"  title="Stars" required>
							<option value="">Rate the Product</option>
							</select>
						</fieldset>
						<fieldset class="form-group">
							<textarea ng-model="reviewCtrl.review.body" class="form-control" placeholder="Write a short review of the product..." title="Review" required></textarea>
						</fieldset>
						<fieldset class="form-group">
							<input ng-model="reviewCtrl.review.author" type="email" class="form-control" placeholder="jimmyDean@example.org" title="Email" required/>
						</fieldset>
						<div>reviewForm is {{reviewForm.$valid}}</div>
						<fieldset class="form-group">
							<input type="submit" class="btn btn-primary pull-right" value="Submit Review" />
						</fieldset>
					</form>
				</div>
			</section>
		</div>
	</body>
</html>